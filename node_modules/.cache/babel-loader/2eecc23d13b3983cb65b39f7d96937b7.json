{"ast":null,"code":"\"use strict\";\n\nvar __values = this && this.__values || function (o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nexports.__esModule = true;\nexports.defineRelationalProperties = void 0;\n\nvar debug_1 = require(\"debug\");\n\nvar get_1 = __importDefault(require(\"lodash/get\"));\n\nvar outvariant_1 = require(\"outvariant\");\n\nvar glossary_1 = require(\"../glossary\");\n\nvar log = debug_1.debug('defineRelationalProperties');\n\nfunction defineRelationalProperties(entity, initialValues, relations, dictionary, db) {\n  var e_1, _a;\n\n  log('defining relational properties...', {\n    entity: entity,\n    initialValues: initialValues,\n    relations: relations\n  });\n\n  try {\n    for (var relations_1 = __values(relations), relations_1_1 = relations_1.next(); !relations_1_1.done; relations_1_1 = relations_1.next()) {\n      var _b = relations_1_1.value,\n          propertyPath = _b.propertyPath,\n          relation = _b.relation;\n      outvariant_1.invariant(dictionary[relation.target.modelName], 'Failed to define a \"%s\" relational property to \"%s\" on \"%s\": cannot find a model by the name \"%s\".', relation.kind, propertyPath.join('.'), entity[glossary_1.ENTITY_TYPE], relation.target.modelName);\n      var references = get_1[\"default\"](initialValues, propertyPath);\n      outvariant_1.invariant(references !== null || relation.attributes.nullable, 'Failed to define a \"%s\" relationship to \"%s\" at \"%s.%s\" (%s: \"%s\"): cannot set a non-nullable relationship to null.', relation.kind, relation.target.modelName, entity[glossary_1.ENTITY_TYPE], propertyPath.join('.'), entity[glossary_1.PRIMARY_KEY], entity[entity[glossary_1.PRIMARY_KEY]]); // invariant(\n      //   references !== null || relation.attributes.nullable,\n      //   'Failed to define a \"%s\" relational property to \"%s\" on \"%s\": a non-nullable relation cannot be instantiated with null. Use the \"nullable\" function when defining this relation to support nullable value.',\n      //   relation.kind,\n      //   propertyPath.join('.'),\n      //   entity[ENTITY_TYPE],\n      // )\n\n      log(\"setting relational property \\\"\" + entity.__type + \".\" + propertyPath.join('.') + \"\\\" with references: %j\", relation, references);\n      relation.apply(entity, propertyPath, dictionary, db);\n\n      if (references) {\n        relation.resolveWith(entity, references);\n      } else if (relation.attributes.nullable) {\n        relation.resolveWith(entity, null);\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (relations_1_1 && !relations_1_1.done && (_a = relations_1[\"return\"])) _a.call(relations_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n}\n\nexports.defineRelationalProperties = defineRelationalProperties;","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/Practice_ReactJS/RTK_Query/node_modules/@mswjs/data/lib/model/defineRelationalProperties.js"],"names":["__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__importDefault","mod","__esModule","exports","defineRelationalProperties","debug_1","require","get_1","outvariant_1","glossary_1","log","debug","entity","initialValues","relations","dictionary","db","e_1","_a","relations_1","relations_1_1","_b","propertyPath","relation","invariant","target","modelName","kind","join","ENTITY_TYPE","references","attributes","nullable","PRIMARY_KEY","__type","apply","resolveWith","e_1_1","error"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.defineRelationalProperties = void 0;\nvar debug_1 = require(\"debug\");\nvar get_1 = __importDefault(require(\"lodash/get\"));\nvar outvariant_1 = require(\"outvariant\");\nvar glossary_1 = require(\"../glossary\");\nvar log = debug_1.debug('defineRelationalProperties');\nfunction defineRelationalProperties(entity, initialValues, relations, dictionary, db) {\n    var e_1, _a;\n    log('defining relational properties...', { entity: entity, initialValues: initialValues, relations: relations });\n    try {\n        for (var relations_1 = __values(relations), relations_1_1 = relations_1.next(); !relations_1_1.done; relations_1_1 = relations_1.next()) {\n            var _b = relations_1_1.value, propertyPath = _b.propertyPath, relation = _b.relation;\n            outvariant_1.invariant(dictionary[relation.target.modelName], 'Failed to define a \"%s\" relational property to \"%s\" on \"%s\": cannot find a model by the name \"%s\".', relation.kind, propertyPath.join('.'), entity[glossary_1.ENTITY_TYPE], relation.target.modelName);\n            var references = get_1[\"default\"](initialValues, propertyPath);\n            outvariant_1.invariant(references !== null || relation.attributes.nullable, 'Failed to define a \"%s\" relationship to \"%s\" at \"%s.%s\" (%s: \"%s\"): cannot set a non-nullable relationship to null.', relation.kind, relation.target.modelName, entity[glossary_1.ENTITY_TYPE], propertyPath.join('.'), entity[glossary_1.PRIMARY_KEY], entity[entity[glossary_1.PRIMARY_KEY]]);\n            // invariant(\n            //   references !== null || relation.attributes.nullable,\n            //   'Failed to define a \"%s\" relational property to \"%s\" on \"%s\": a non-nullable relation cannot be instantiated with null. Use the \"nullable\" function when defining this relation to support nullable value.',\n            //   relation.kind,\n            //   propertyPath.join('.'),\n            //   entity[ENTITY_TYPE],\n            // )\n            log(\"setting relational property \\\"\" + entity.__type + \".\" + propertyPath.join('.') + \"\\\" with references: %j\", relation, references);\n            relation.apply(entity, propertyPath, dictionary, db);\n            if (references) {\n                relation.resolveWith(entity, references);\n            }\n            else if (relation.attributes.nullable) {\n                relation.resolveWith(entity, null);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (relations_1_1 && !relations_1_1.done && (_a = relations_1[\"return\"])) _a.call(relations_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.defineRelationalProperties = defineRelationalProperties;\n"]},"metadata":{},"sourceType":"script"}